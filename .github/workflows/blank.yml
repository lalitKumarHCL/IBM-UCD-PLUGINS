# This is a basic workflow to help you get started with Actions

name: CI

# Controls when the workflow will run
on:

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:
    inputs:
      fileName:
        type: string
        description: File Name
      folderName:
        type: string
        description: Folder Name
      fileName2:
        type: string
        description: File Name 2
      folderName2:
        type: string
        description: Folder Name 2

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # This workflow contains a single job called "build"
  build:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
      #- uses: actions/checkout@v3

      # Runs download artifact
      - name: Run a one-line script
        run: |
          wget "https://hclcr.io/files/devops/launch/plugins/${{ github.event.inputs.folderName2 }}/${{ github.event.inputs.fileName2 }}"
          mv ${{ github.event.inputs.fileName2 }} ${{ github.event.inputs.fileName }}
          mkdir files/${{ github.event.inputs.folderName }}/
          mv ${{ github.event.inputs.fileName }} "files/${{ github.event.inputs.folderName }}/"
          ls -a
          cd files/${{ github.event.inputs.folderName }}/
          ls -a
      # Runs a set of commands using the runners shell
      #- name: Commit changes
        #uses: EndBug/add-and-commit@v9
        #with:
          #author_name: Lalit Kumar
          #author_email: lalit-ku@hcl.com
          #message: 'Your commit message'
          #add: files/${{ github.event.inputs.folderName }}/${{ github.event.inputs.fileName }}
